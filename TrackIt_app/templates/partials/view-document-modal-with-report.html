<!-- View Document Modal -->
<div class="modal fade" id="viewDocumentModal" tabindex="-1" aria-labelledby="viewDocumentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content rounded-4 px-3 py-2 bg-white shadow">
            <div class="modal-header pb-0 border-bottom-0">
                <h5 class="modal-title" id="viewDocumentModalLabel">
                    <i class="fa-solid fa-circle-info" style="color: #2E72EA;"></i>&nbsp; Document Details
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <div id="loadingSpinner" class="text-center my-5" style="display: none;">
                    <div class="spinner-border" role="status" style="width: 3rem; height: 3rem;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>

                <div class="d-flex flex-wrap" id="documentDetailsContent" style="display: none;">
                    <p class="me-4 mb-2"><strong>Tracking Number:</strong> <span id="documentTrackingNumber"></span></p>
                    <p class="me-4 mb-2"><strong>Sender:</strong> <span id="documentSender"></span></p>
                    <p class="me-4 mb-2"><strong>Status:</strong> <span id="documentStatus"></span></p>
                    <p class="me-4 mb-2"><strong>Type:</strong> <span id="documentType"></span></p>
                    <p id="documentRoutesTxt" class="me-4 mb-2 d-none"><strong>Routes:</strong> <span id="documentRoutes"></span></p>
                    <p class="me-4 mb-2"><strong>Priority:</strong> <span id="documentPriority"></span></p>
                    <p class="me-4 mb-2"><strong>Subject/Particulars:</strong> <span id="documentSubject"></span></p>
                    
                    <div class="w-100 mb-2">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#generateQRCode" id="documentTitleLink" style="font-size: 15px !important;">Document QR Code</a>
                    </div>
                </div>

                <div class="table-responsive tracker-action-wrapper d-flex" id="activitiesContent" style="display: none;">
                    <table class="table mb-1">
                        <thead>
                            <tr>
                                <th>Timestamp</th>
                                <th>User ID</th>
                                <th>Name</th>
                                <th>Department</th>
                                <th>Role/Position</th>
                                <th>Remarks</th>
                                <th>Attachment</th>
                                <th class="text-start">Activity</th>
                            </tr>
                        </thead>
                        
                        <tbody id="activitiesTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer p-3 pt-0 border-top-0">
                <button type="button" onclick="openDocumentReportPDF()" class="m-0 mb-2 btn btn-primary" id="generateDocumentReportBtn">Generate Document Report</button>
            </div>
        </div>
    </div>
</div>