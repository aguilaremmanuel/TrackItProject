{% load tz %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document Report</title>
    <style>

        @page {
            size: A4 landscape; 
            margin: 40pt 60pt;
        }

        body, html {
            font-family: Helvetica, sans-serif;
            font-size: 8.8pt;
            box-sizing: border-box;
        }

        table, th, td {
            border-collapse: collapse;
        }

        .logs-table {
            border: 1px solid black;
            width: 100%;
            border-spacing: 0;  /* No gap between cells */
            table-layout: fixed;
            box-sizing: content-box;
        }

        thead {
            font-weight: bold;
        }

        .logs-table td {
            padding: 5px;
            text-align: left; /* Align text to the left */
            vertical-align: top; /* Align text to the top */
            white-space: normal;
        }

        
    </style>
</head>

    <body>

        <p style="text-align: center; font-size: 12pt; font-weight: 700;">PENDING DOCUMENT REPORT</p>

        <div style="margin-top: 30pt;">
            <table style="width: 100%;">
                <tr>
                    <td style="text-align: left; width: 50%;"><b>Name:</b>{{target_user.lastname}}, {{target_user.firstname}} {{target_user.middlename}}</td>
                    <td style="text-align: right; width: 50%;"><b>Date of Report:</b> {{now|date:"m/d/Y"}}</td>
                </tr>
                <tr>
                    <td colspan="2"><b>Employee ID:</b> {{target_user.employee_id}}</td>
                </tr>
                <tr>
                    <td colspan="2"><b>Office:</b> {{target_user.office_id.office_name}}<td>
                </tr>
            </table>
        </div>

        <p><b>Pending Document(s):</b></p>

        <table class="logs-table">
            <thead>
                <tr>
                    <td>Tracking No.</td>
                    <td>Status</td>
                    <td>Subject/Particulars</td>
                    <td>Type</td>
                    <td>Priority</td>
                    <td>Due In</td>
                </tr>
            </thead>
            <tbody>
                {% for document in pending_documents %}
                    <tr>    
                        <td>{{document.tracking_no}}</td>
                        <td>{{document.status}}</td>
                        <td>{{document.subject}}</td>
                        <td>{{document.document_type.category}}</td>
                        <td>{{document.document_type.priority_level.priority_level|title}}</i></td>
                        <td>{{document.ongoing_deadline}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <p style="margin-top: 80pt;">Report generated by,</p>
        <p><b>{{ reporter }}</b></p>
        
    </body>
</html>
